# 授权平台操作手册

### **1.**   **应用接入授权平台**

#### **1.1.**   **应用添加** 

1. 登录进入授权平台后，在左侧导航栏中点击进入应用管理页面。

2. 在应用管理首页点击新增应用按钮，在跳出的弹窗中输入相关信息。如图1-1：

![img](./assets/%E6%96%B0%E5%A2%9E%E5%BA%94%E7%94%A8.png)

​																				图1.1-1 新增应用

​		说明：应用类型选择包含web应用和服务型应用

​		web型应用：主要是校验用户相关权限，如国服。

​		服务型应用：主要是校验应用key及应用相关的权限列表，如大数据。

​		根据实际情况选择应用类型。

3. 添加应用成功后，应用会自动生成应用sid和授权中心服务key（平台对接授权中心时会使用），可以在key管理页面中查看sid和key，如图1-2，均不允许修改。

![img](./assets/key%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2.png)

​																		   图 1.1-2 key管理页面

#### **1.2.**   **应用对接授权**

1. 使用应用sid和授权中心服务key对接授权，具体对接方案参照文档

 [http://192.168.1.23/uac/uac/blob/develop/doc/%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/%E6%9D%83%E9%99%90%E5%89%8D%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E5%AF%B9%E6%8E%A5%E7%BA%A6%E5%AE%9A.md](http://192.168.1.23/uac/uac/blob/develop/doc/%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/%E6%8E%88%E6%9D%83%E4%B8%AD%E5%BF%83%E5%AF%B9%E6%8E%A5%E8%AF%B4%E6%98%8E.md) 

 

### **2.**   **应用平台信息添加**

#### **2.1.**   **菜单添加**

1. 进入应用菜单管理界面，在下拉框中选择需要添加菜单的应用，点击查询，进入相应应用的菜单管理页面，如图2.1-1

![img](./assets/%E8%8F%9C%E5%8D%95%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2.png)

​                                                                              图2.1-1 菜单管理页面

2. 添加一级菜单，点击页面右上角新增按钮，进入添加表单，如图2.1-2：

![img](./assets/%E5%A2%9E%E5%8A%A0%E4%B8%80%E7%BA%A7%E8%8F%9C%E5%8D%95.png)

​                                                                            图2.1-2 增加一级菜单

​       菜单类型分为分组和路由

​       分组：对路由进行分类，一般一级菜单设置为分组。

​       路由：前端访问路径，根据路由跳转到相应页面。子菜单一般设为路由。

3. 添加子菜单，可以在已添加菜单的操作栏选择添加子菜单操作，如图2.1-3：

 ![img](./assets/%E6%96%B0%E5%A2%9E%E5%AD%90%E8%8F%9C%E5%8D%95.png)    
                                                                                  图2.2.1-1 添加子菜单
​    子菜单类型一般设为路由。

​    注：菜单路由标识需要与前端人员核对，一旦定下不可随意修改。

#### **2.2.**   **权限管理**

##### **2.2.1.**   **权限添加**

​		权限管理页面，选择相关应用的权限列表显示，可以在相应页面添加权限。

​		可以添加子权限，添加权限时需注意，权限类型分为应用权限和用户权限，应用权限是面向应用之间交互的(该类型权限会在应用管理页面中展示与分配)，用户权限是面向用户与平台之间交互的(该类型权限会在角色管理页面中展示与分配)。

![img](./assets/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.png)

​                                                                                 图2.2.1-1 权限管理

​		角色权限权限标识对应接口@requestPermission里的标识。

##### **2.2.2.**   **权限修改**

​		对于已添加的权限可以进行修改操作，但是要注意权限标识与接口定义的标识一致，一般不会进行修改。

##### **2.2.3.**   **权限删除**

​		删除已添加的权限，一般不允许删除。

#### **2.3.**   **角色管理**

##### **2.3.1.**   **角色添加**

​		角色管理页面，点击新建角色进入角色添加表单，如图：

![img](./assets/%E8%A7%92%E8%89%B2%E6%B7%BB%E5%8A%A0.png)

​                                                                            图2.3.1-1 角色添加

选择需要添加角色的应用，分别填入角色名称和标识信息（同一应用下角色标识唯一），提示添加成功，操作完成。

##### **2.3.2.**   **角色菜单与权限分配**

​		添加角色成功后，在角色管理首页找到对应平台下新增的角色，可以看到角色基础信息（角色名称和标识可以直接在页面上进行修改）。

1. 菜单分配：进入可访问系统菜单页面，可以看到该平台的菜单列表(需先进行应用菜单添加，已添加过则不需要)，根据需求勾选需要访问的菜单，点击保存，提示修改成功完成菜单分配。

![img](./assets/%E8%A7%92%E8%89%B2%E8%8F%9C%E5%8D%95%E5%88%86%E9%85%8D.png)

​                                                                               图2.3.2-1 角色菜单分配

2. 权限分配：进入可操作功能页面，页面展示平台已添加的用户权限列表，勾选需要分配的权限（需先添加应用权限，添加过则不需要），点击保存，提示修改成功完成权限分配。

![img](./assets/%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90%E5%88%86%E9%85%8D.png)

​                                                                              图2.3.2-2 角色权限分配

##### **2.3.3.**   **角色禁用/恢复**

​		角色禁用会禁用平台对应的角色，无法使用该角色的权限。可以在角色管理里将禁用的角色恢复正常。

![img](./assets/%E8%A7%92%E8%89%B2%E7%BC%96%E8%BE%91%E9%A1%B5%E9%9D%A2.png)

​                                                                  图2.3.3-1 角色编辑页面

#### **2.4.**   **用户管理**

##### **2.4.1.**   **用户创建**

​		用户创建页面，点击新建用户，进入用户添加页面，配置用户名，密码等相关信息（用户名和密码用于登	录），可以选择赋予用户各个平台的角色，并且可以设定用户拥有平台角色的到期时间（默认不填是无期限），用户添加成功返回用户列表。

![img](./assets/%E7%94%A8%E6%88%B7%E7%BC%96%E8%BE%91.png)

##### **2.4.2.**   **用户角色分配**

​				对于已添加的用户，操作人员可以通过点击对应用户的编辑选项对其进行信息的变更。

​        用户的角色分配可以在编辑页面中设置，也可以在用户列表页面中点击对应用户的角色信息进行设置。

​        可以设置角色的过期时间，过期后用户无法使用角色拥有的权限。

![img](./assets/%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E9%85%8D%E7%BD%AE.png)

​                                                                       图2.4.2-1 用户角色配置

​     		 说明：用户拥有其所分配角色的所有权限。


**本页编辑**      **[@zhangyu](http://192.168.1.23/zhangyu)**